<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç•™æ˜å¾…æœˆå¤ï¼Œä¸‰äº”å…±ç›ˆç›ˆ</title>
<style>
  :root{ --accent:#41a7f5; } /* ç»Ÿä¸€ä¸»è‰²ï¼ˆè“ï¼‰ */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;overflow:hidden}
  body{
    font-family:system-ui,-apple-system,"Segoe UI","Microsoft Yahei",Arial,sans-serif;
    font-size:18px; color:#fff; /* æ·±è‰²èƒŒæ™¯ä¸Šç™½å­— */
  }

  /* ===== èƒŒæ™¯ï¼šçŸ©é˜µé›¨ + çƒŸèŠ± ===== */
  #matrix{
    position:fixed; inset:0; width:100%; height:100%;
    background:#000; z-index:0; display:block;
  }
  canvas#fireworks{
    position:fixed; inset:0; pointer-events:none; z-index:5; display:block;
  }

  /* é£˜å¿ƒ */
  .heart{position:fixed;color:pink;animation:fall linear;z-index:9999;pointer-events:none}
  @keyframes fall{0%{transform:translateY(-10px) rotate(0)}100%{transform:translateY(100vh) rotate(360deg)}}

  /* ===== é¡µé¢å®¹å™¨ï¼ˆå†…å®¹åœ¨çŸ©é˜µé›¨ä¹‹ä¸Šï¼‰===== */
  .viewport{position:relative;width:100vw;height:100vh;overflow:hidden;z-index:2}
  .pages{
    display:flex;height:100%;transform:translateX(0);
    transition:transform .9s cubic-bezier(.25,.8,.25,1); will-change:transform;
  }
  .pages.turning{
    transition:transform .9s cubic-bezier(.25,.8,.25,1), filter .9s ease;
    filter:drop-shadow(0 12px 28px rgba(0,0,0,.28));
  }
  .page{
    min-width:100vw;height:100vh;padding:56px 20px 84px;
    display:flex;flex-direction:column;align-items:center;justify-content:flex-start;
    text-shadow:0 2px 6px rgba(0,0,0,.6);
  }
  .page h1{margin:.2em 0 .3em;font-size:2.6rem;color:#00bfff}
  .lead{opacity:.92}
  .photo{margin:18px auto;max-width:92%;border-radius:16px;box-shadow:0 8px 28px rgba(0,0,0,.6)}
  .section{max-width:860px;font-size:1.12rem;line-height:2;text-align:center}

  /* ç›¸å†Œ */
  .grid{display:grid;gap:12px;grid-template-columns:repeat(2,1fr);max-width:900px;width:92%}
  .grid img{width:100%;height:32vh;object-fit:cover;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.4);cursor:pointer}

  /* ç•™è¨€å¢™ï¼ˆç™½åº•å¡ç‰‡ï¼‰ */
  .board{background:rgba(255,255,255,.9);padding:18px;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.4);width:min(680px,92%); color:#333}
  textarea{width:100%;height:100px;border:1px solid #ddd;border-radius:12px;padding:12px;resize:none;font-size:18px}
  .btn{margin-top:12px;background:var(--accent);color:#fff;border:0;border-radius:12px;padding:12px 20px;font-size:18px;cursor:pointer}
  .msgs{margin-top:14px;max-height:36vh;overflow:auto;text-align:left}
  .msg{background:#fff;border-radius:10px;padding:10px 12px;margin:8px 0;box-shadow:0 2px 8px rgba(0,0,0,.08); color:#333}

  /* ç®­å¤´ä¸åœ†ç‚¹ï¼ˆæµ®äºé¡¶å±‚ï¼‰ */
  .arrows{
    position:fixed;top:80%;left:50%;transform:translate(-50%,-50%);
    display:flex;gap:65px;z-index:20
  }
  .arrow{
    background:var(--accent);border:none;border-radius:50%;
    width:68px;height:68px;padding:0;
    box-shadow:0 12px 24px rgba(0,0,0,.35);
    cursor:pointer; display:flex;align-items:center;justify-content:center;
    transition:transform .25s ease, box-shadow .25s ease, filter .25s ease;
  }
  .arrow:hover{ transform:scale(1.08); box-shadow:0 16px 30px rgba(0,0,0,.45); filter:saturate(1.1) }
  .arrow svg{width:39px;height:398px;display:block}
.arrow svg *{stroke:#fff;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;fill:none}
  .dots{position:fixed;left:50%;transform:translateX(-50%);bottom:64px;display:flex;gap:8px;z-index:20}
  .dot{width:8px;height:8px;border-radius:50%;background:#ddd;transition:all .25s}
  .dot.active{background:var(--accent);transform:scale(1.2)}
  
  .arrow{
  will-change: transform;
  transform: translateZ(0) scale(1);
  -webkit-tap-highlight-color: transparent; /* ç§»åŠ¨ç«¯å»é«˜äº® */
  transition: box-shadow .25s ease, filter .25s ease; /* ç¼©æ”¾äº¤ç»™ keyframes */
}
.arrow:hover,
.arrow:focus-visible{
  animation: spring-pop .52s cubic-bezier(.34,1.56,.64,1);
}
.arrow:active{
  animation: spring-press .42s cubic-bezier(.34,1.56,.64,1);
}
.arrow svg{ width:39px; height:39px; display:block; }
/* å¯é€‰ï¼šç»™æŒ‰é’®åŠ  .pulse è·å¾—å‘¼å¸è„‰å†² */
.arrow.pulse{ animation: breathe 2.4s ease-in-out infinite; }
.arrow.pulse:hover,
.arrow.pulse:focus-visible,
.arrow.pulse:active{ animation: none; }

  /* â€”â€” Lightboxï¼ˆç›¸å†Œå¤§å›¾é¢„è§ˆï¼‰â€”â€” */
  .lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.7); display:none; align-items:center; justify-content:center; z-index:10000; padding:16px; }
  .lightbox.open{ display:flex }
  .lightbox img{ max-width:92vw; max-height:86vh; border-radius:12px; background:#fff; box-shadow:0 10px 30px rgba(0,0,0,.5) }
  .lb-close,.lb-prev,.lb-next{
    position:absolute; border:none; cursor:pointer;
    background:rgba(255,255,255,.9); color:#333;
    width:44px; height:44px; border-radius:50%;
    box-shadow:0 6px 16px rgba(0,0,0,.2);
  }
  .lb-close{ top:20px; right:20px; font-size:22px; line-height:44px }
  .lb-prev{ left:24px; top:50%; transform:translateY(-50%) }
  .lb-next{ right:24px; top:50%; transform:translateY(-50%) }
  .lb-prev::before{ content:'â€¹'; font-size:28px }
  .lb-next::before{ content:'â€º'; font-size:28px }
</style>
</head>
<body>
  <!-- èƒŒæ™¯éŸ³ä¹ï¼ˆæŒ‰éœ€æ›¿æ¢/åˆ é™¤ï¼›ç§»åŠ¨ç«¯å¯èƒ½éœ€ç”¨æˆ·æ‰‹åŠ¿è§¦å‘ï¼‰ -->
  <audio src="music.mp3" autoplay loop preload="auto"></audio>

  <!-- èƒŒæ™¯ï¼šçŸ©é˜µé›¨ + çƒŸèŠ± -->
  <canvas id="matrix" aria-hidden="true"></canvas>
  <canvas id="fireworks" aria-hidden="true"></canvas>

  <div class="viewport">
    <div id="pages" class="pages">
      <!-- ç¬¬1é¡µï¼šå°é¢ -->
      <section class="page">
        <header class="small">
          <h1>å˜»ï¼Œä½ å¥½ï¼Œé­å…¨å¿ƒ ğŸ’™</h1>
          <p class="lead">æ²¡æƒ³åˆ°è¿™ä¹ˆå¿«å°±åˆ°ä¸ƒå¤•äº†</p>
          <p>ä¸‹ä¸€æ¬¡è§é¢ï¼Œå°±æ˜¯å›½åº†äº†</p>
          <p>å…¶å®ä¹Ÿå°±ä¸‰åæ¥å¤©ï¼Œçœ¼ç›ççé—­é—­å¾ˆå¿«</p>
          <p>å‘ƒï¼Œè¯è™½å¦‚æ­¤ï¼Œä¹Ÿä¸æ˜¯å¾ˆå¿«</p>
          <p>å¥½åœ¨æˆ‘ä»¬ä¸¤ä¸ªæ¯å¤©éƒ½æœ‰åœ¨è”ç³»</p>
          <p>ä¸ç„¶å°±çœŸçš„æ˜¯æå¦‚éš”ä¸–äº†</p>
          <p>æ—¢ç„¶å¦‚æ­¤ï¼Œå…ˆè¿›è¡Œä¸€ä¸ªå›é¡¾</p>
          <p>ğŸ’™ä½ ğŸ’™è§‰ğŸ’™å¾—ğŸ’™å‘¢ğŸ’™</p>
        </header>
      </section>
      
      <!-- ç¬¬2é¡µï¼šäº‹æƒ…çš„å¼€ç«¯ -->
      <section class="page">
        <h1>å¥¹è®©æˆ‘å»æ‰“ç“¦</h1>
        <div class="section">
          <p>è‚‰æ¾åŒ…ä¸ƒæœˆä»½æ—¶å€™ï¼ŒæŠŠæˆ‘å«å»æ‰“ç“¦</p>
          <p>é‚£ä¼šè¿˜åœ¨åšæš‘å‡å…¼èŒï¼Œä¹‹åæ¯å¤©ä¸‹ç­å°±å¤šäº†ä¸€ä¸ªå¿…åšçš„é¡¹ç›®</p>
          <p>ä¹Ÿå°±æ˜¯é‚£ä¸ªæ—¶å€™ï¼Œæˆ‘ä¿©åŒ¹é…ä¸Šäº†</p>
          <p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æ€»çœ‹è§æˆ‘å®¤å‹åœ¨ç©</p>
          <p>ä»¥å‰è·ŸFPSæ²¾ç‚¹å…³ç³»çš„æ¸¸æˆï¼Œæˆ‘åªç©è¿‡APEX</p>
          <p>ç“¦ä¹ŸæŒºå¥½ç©ï¼Œèµ·ç åœ°å›¾å°ï¼Œä¸ä¼šè¿·è·¯</p>
        </div>
      </section>

      <!-- ç¬¬3é¡µï¼šäº‹ç‰©çš„å‘å±• -->
     <section class="page">
        <h1>ä¸€æ¥ä¸€å›ï¼Œå°±é‚£ä¹ˆå¼€å§‹äº†</h1>
        <div class="section">
          <p>ä½†å…¶å®åœ¨å¾ˆæ—©ä¹‹å‰ï¼Œå¥¹å°±å‘Šè¯‰æˆ‘</p>
          <p>ä½ ä¿©è¿™æ¸¸æˆå¤©å¤©è¿™æ ·æ‰“ä¸‹å»ï¼Œè¿Ÿæ—©åœ¨ä¸€èµ·</p>
          <p>æˆ‘ä¸ä¿¡ï¼Œå¹¶è¯•å›¾è¯´æœå¥¹</p>
          <p>å¥¹å¾ˆæ— è¯­ï¼ŒçŠŸä¸è¿‡æˆ‘</p>
        </div>
      </section>

      <!-- ç¬¬4é¡µï¼šè¨€è¯­æˆä¸ºç°å® -->
      <section class="page">
        <h1>å¥¹è¯´çš„æ˜¯å¯¹çš„</h1>
        <div class="section">
          <p>æœç„¶ï¼Œæ‰“äº†é‚£ä¹ˆä¹…æ¸¸æˆ</p>
          <p>è¿˜çœŸçš„è°ˆäº†ï¼Œæˆ‘å»ğŸ˜›</p>
          <p>å¦ˆå‘€ï¼Œç°åœ¨æƒ³æƒ³çœŸæ˜¯ç¥å¥‡</p>
          <p>ç°åœ¨éƒ½è®¤è¯†ä¸€å¹´å¤šäº†æ¬¸ï¼Œæ—¶é—´è¿‡å¾—çœŸå¿«</p>
          <p>å…¶å®æˆ‘è·Ÿä½ æ‰“æ¸¸æˆçš„å¤§éƒ¨åˆ†æ—¶å€™éƒ½åœ¨å·æ‡’</p>
          <p>å¥½å§ï¼Œå…¶å®æˆ‘è‡ªå·±ç©æ¸¸æˆä¹Ÿä¼šå·æ‡’</p>
          <p>å› ä¸ºç©æ¸¸æˆæœ¬æ¥å°±æ˜¯æ”¾æ¾çš„ä¸€ä»¶äº‹</p>
        </div>
      </section>

      <!-- ç¬¬5é¡µï¼šç›¸å†Œ -->
      <section class="page">
        <h1>çœ‹çœ‹ç…§ç‰‡</h1>
        <div class="grid">
          <img src="images/p1.jpg" alt="">
          <img src="images/p2.jpg" alt="">
          <img src="images/p3.jpg" alt="">
          <img src="images/p4.jpg" alt="">
        </div>
        <div class="section"><p></p></div>
      </section>

      <!-- ç¬¬6é¡µï¼šç›¸å†Œ -->
      <section class="page">
        <h1>è¿™æ˜¯è°å‘€</h1>
        <div class="grid">
          <img src="images/y1.jpg" alt="">
          <img src="images/y2.jpg" alt="">
          <img src="images/y3.jpg" alt="">
          <img src="images/y4.jpg" alt="">
        </div>
        <div class="section"><p></p></div>
      </section>

      <!-- ç¬¬7é¡µï¼šç›¸å†Œ -->
      <section class="page">
        <h1>è¿™åˆæ˜¯è°å‘€</h1>
        <div class="grid">
          <img src="images/m1.jpg" alt="">
          <img src="images/m2.jpg" alt="">
          <img src="images/m3.jpg" alt="">
          <img src="images/m4.jpg" alt="">
        </div>
        <div class="section"><p></p></div>
      </section>

      <!-- ç¬¬8é¡µï¼šæˆ‘å’Œä½ å‘€ -->
      <section class="page">
        <h1>ğŸ’™ğŸ’™ğŸ’™ğŸ’™</h1>
        <div class="section">
          <p>æˆ‘æŒºå–œæ¬¢ä½ çš„</p>
          <p>ä½ å‘¢ï¼Œä½ å–œæ¬¢å—</p>
          <p>çœŸçš„å—</p>
          <p>æˆ‘å–œæ¬¢ä½ ï¼Œä½ å–œæ¬¢æˆ‘</p>
          <p>ç¡®å®åº”è¯¥åœ¨ä¸€èµ·</p>
        </div>
      </section>
      
      <!-- ç¬¬9é¡µï¼šæ„Ÿè°¢ä¸–ç•Œ -->
      <section class="page">
        <h1>å“‡</h1>
        <div class="section">
          <p>æ„Ÿè°¢å›½å®¶æ„Ÿè°¢å…šï¼Œæ„Ÿè°¢äººæ°‘æ„Ÿè°¢çˆ¶æ¯</p>
          <p>æ„Ÿè°¢è‚‰æ¾åŒ…ï¼Œæ„Ÿè°¢ç“¦ç½—å…°ç‰¹</p>
          <p>æ„Ÿè°¢æˆ‘å¤©å¤©åƒé¥­ï¼Œèƒ½æ‰“æ¸¸æˆ</p>
          <p>æ„Ÿè°¢GitHubï¼Œæ„Ÿè°¢HTML</p>
          <p>æ„ŸğŸ’™è°¢ğŸ’™é­ğŸ’™å…¨ğŸ’™å¿ƒğŸ’™æ„ŸğŸ’™è°¢ğŸ’™æˆ‘ğŸ’™è‡ªğŸ’™å·±</p>
        </div>
      </section>
      
      <!-- ç¬¬10é¡µï¼šæˆ‘å’Œä½ å‘€ -->
      <section class="page">
        <h1>ğŸ’™ğŸ’™ğŸ’™ğŸ’™</h1>
        <div class="section">
          <p>ä½ è¯´å¾—å¯¹ï¼Œä¸ƒå¤•å…¶å®ä¹Ÿæ²¡å•¥</p>
          <p>è«åå…¶å¦™è¢«ç‚’ä½œèµ·æ¥äº†</p>
          <p>è€Œä¸”ç‰›éƒç»‡å¥³è¿™ä¸ªæ•…äº‹ï¼Œæ›´åƒææ€–æ•…äº‹</p>
          <p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ç›¸éš”é‚£ä¹ˆè¿œ</p>
          <p>å°±åº”è¯¥æ—¶ä¸æ—¶æ•´ç‚¹æ´»</p>
          <p>é‡åˆ°èŠ‚æ—¥ï¼Œç®¡ä»–å¥½çš„åçš„ä»€ä¹ˆèŠ‚æ—¥ï¼Œæ•´ä¸€æ•´</p>
          <p>æœ‰åŠ©äºå›½å®¶å’Œå¹³ï¼Œå˜»å˜»å˜»</p>
          <p>è¨€ä¹‹æœ‰ç†ï¼ŒçœŸæ˜¯è¨€ä¹‹æœ‰ç†å£ç‰™ï¼</p>
        </div>
      </section>
      
      <!-- ç¬¬11é¡µï¼šç•™è¨€å¢™ -->
      <section class="page">
        <h1>ğŸ’™ ç•™è¨€å¢™ ğŸ’™</h1>
        <div class="board">
          <textarea id="msgInput" placeholder="è¿™æ˜¯è®¾å¤‡æœ¬åœ°å‚¨å­˜çš„ï¼Œæ— æ³•ä¸Šä¼ äº‘ç«¯ï¼Œäº‹å·²è‡³æ­¤ï¼Œå°±å†™ç‚¹ä»€ä¹ˆç»™è‡ªå·±å§ï¼Œè§é¢çš„æ—¶å€™å¦‚æœå¸¦äº†ç”µè„‘å°±ç‚¹å¼€é“¾æ¥ç»™æˆ‘çœ‹ä½ çš„è‘—ä½œï¼Œæ‰‹æœºå†™ä¹Ÿå¯ä»¥â€¦"></textarea>
          <button class="btn" id="sendBtn">å‘é€</button>
          <div class="msgs" id="msgs"></div>
        </div>
      </section>
    </div>

    <!-- åªæœ‰ä¸€å¥—ï¼šç¿»é¡µç®­å¤´ + é¡µç åœ†ç‚¹ -->
    <div class="arrows">
      <button class="arrow" id="prevBtn" aria-label="ä¸Šä¸€é¡µ" title="ä¸Šä¸€é¡µ">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      <button class="arrow" id="nextBtn" aria-label="ä¸‹ä¸€é¡µ" title="ä¸‹ä¸€é¡µ">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
    <div class="dots" id="dots"></div>
  </div>

  <!-- ç›¸å†Œ Lightboxï¼ˆåŒæ ·åªä¿ç•™ä¸€å¥—ï¼‰ -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog">
    <button class="lb-close" id="lbClose" aria-label="å…³é—­">Ã—</button>
    <button class="lb-prev" id="lbPrev" aria-label="ä¸Šä¸€å¼ "></button>
    <img id="lightboxImg" alt="å¤§å›¾é¢„è§ˆ" />
    <button class="lb-next" id="lbNext" aria-label="ä¸‹ä¸€å¼ "></button>
  </div>

<script>
/* ========== ä¸€ã€çŸ©é˜µé›¨ï¼ˆè“è‰²ç¨‹åºå‘˜é£ï¼‰ ========== */
(() => {
  const canvas = document.getElementById("matrix");
  const ctx = canvas.getContext("2d");
  const texts = "W QuAN XiN".split("");
  let fontSize = 18, columns = 0, drops = [];
  let dpr = Math.max(1, window.devicePixelRatio || 1);

  function resize(){
    const w = window.innerWidth, h = window.innerHeight;
    canvas.style.width = w + "px"; canvas.style.height = h + "px";
    canvas.width = Math.floor(w * dpr); canvas.height = Math.floor(h * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
    fontSize = Math.max(14, Math.floor(Math.min(w,h)/45));
    columns = Math.ceil(w / fontSize);
    drops = Array(columns).fill(0);
    ctx.font = fontSize + "px monospace";
  }
  window.addEventListener("resize", () => { dpr = Math.max(1, window.devicePixelRatio || 1); resize(); });
  resize();

  let running = true;
  document.addEventListener('visibilitychange', ()=>{ running = !document.hidden; });

  function draw(){
    if (running){
      ctx.fillStyle = "rgba(0,0,0,0.06)";
      ctx.fillRect(0,0,canvas.width/dpr,canvas.height/dpr);
      ctx.fillStyle = "#00bfff";
      for(let i=0;i<drops.length;i++){
        const text = texts[(Math.random()*texts.length)|0];
        ctx.fillText(text, i*fontSize, drops[i]*fontSize);
        if(drops[i]*fontSize > canvas.height/dpr || Math.random()>0.965) drops[i]=0;
        drops[i]++;
      }
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

/* ========== äºŒã€ç¿»é¡µï¼šæŒ‰é’®/åœ†ç‚¹/é”®ç›˜/è§¦æ‘¸ ========== */
const pagesEl = document.getElementById('pages');
let total = pagesEl.children.length;
let current = 0;

function updateDots(){
  const dotsWrap = document.getElementById('dots');
  dotsWrap.innerHTML = '';
  for(let i=0;i<total;i++){
    const d = document.createElement('div');
    d.className = 'dot' + (i===current?' active':'');
    d.addEventListener('click', ()=>go(i));
    dotsWrap.appendChild(d);
  }
}
function go(i){
  current = Math.max(0, Math.min(total-1, i));
  pagesEl.classList.add('turning');
  pagesEl.style.transform = `translateX(${-current*100}vw)`;
  updateDots();
  setTimeout(()=>pagesEl.classList.remove('turning'), 950);
}
document.getElementById('prevBtn').onclick = ()=>go(current-1);
document.getElementById('nextBtn').onclick = ()=>go(current+1);
window.addEventListener('keydown',e=>{
  if(e.key==='ArrowRight') go(current+1);
  if(e.key==='ArrowLeft')  go(current-1);
});
let sx=0, dx=0;
pagesEl.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;});
pagesEl.addEventListener('touchmove',e=>{dx=e.touches[0].clientX - sx;});
pagesEl.addEventListener('touchend',()=>{ if(dx<-50) go(current+1); if(dx>50) go(current-1); dx=0; });
updateDots();

/* ========== ä¸‰ã€ç•™è¨€å¢™ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰ ========== */
const storeKey='qixi_msgs_v1';
function loadMsgs(){
  const arr = JSON.parse(localStorage.getItem(storeKey)||'[]');
  const box = document.getElementById('msgs');
  if(!box) return;
  box.innerHTML='';
  arr.forEach(t=>{
    const div=document.createElement('div');
    div.className='msg';
    div.textContent=t;
    box.appendChild(div);
  });
}
function addMsg(){
  const ipt=document.getElementById('msgInput');
  if(!ipt) return;
  const v=ipt.value.trim();
  if(!v) return;
  const arr = JSON.parse(localStorage.getItem(storeKey)||'[]');
  arr.push(v);
  localStorage.setItem(storeKey, JSON.stringify(arr));
  ipt.value='';
  loadMsgs();
}
const sendBtn = document.getElementById('sendBtn');
if(sendBtn) sendBtn.addEventListener('click',addMsg);
loadMsgs();

/* ========== å››ã€é£˜å¿ƒ ========== */
function heart(){
  const h=document.createElement('div');
  h.className='heart';
  h.innerHTML='â¤';
  h.style.left=Math.random()*100+'vw';
  h.style.fontSize=(Math.random()*20+10)+'px';
  h.style.animationDuration=(Math.random()*3+2)+'s';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
}
setInterval(heart,260);

/* ========== äº”ã€çƒŸèŠ± ========== */
(() => {
  const cvs=document.getElementById('fireworks'), ctx=cvs.getContext('2d');
  function size(){ cvs.width=innerWidth; cvs.height=innerHeight; }
  addEventListener('resize',size,{passive:true}); size();
  const ps=[];
  const rnd=(a,b)=>Math.random()*(b-a)+a;
  function boom(){
    const x=rnd(0,cvs.width), y=rnd(0,cvs.height*0.5), hue=rnd(200,220), n=rnd(50,100); // åè“è‰²ç³»
    for(let i=0;i<n;i++){
      ps.push({x,y,a:rnd(0,Math.PI*2),s:rnd(1,6),r:2,c:`hsl(${hue},100%,70%)`,t:100});
    }
  }
  setInterval(boom,1500);
  (function anim(){
    ctx.clearRect(0,0,cvs.width,cvs.height);
    for(let i=ps.length-1;i>=0;i--){
      const p=ps[i];
      p.x+=Math.cos(p.a)*p.s; p.y+=Math.sin(p.a)*p.s; p.t--;
      ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill();
      if(p.t<=0) ps.splice(i,1);
    }
    requestAnimationFrame(anim);
  })();
})();

/* ========== å…­ã€ç›¸å†Œ Lightbox ========== */
(function(){
  const imgs = Array.from(document.querySelectorAll('.grid img'));
  if(!imgs.length) return;
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lightboxImg');
  const lbClose = document.getElementById('lbClose');
  const lbPrev = document.getElementById('lbPrev');
  const lbNext = document.getElementById('lbNext');
  let idx = 0;

  const currentSrc = i => imgs[i].getAttribute('data-full') || imgs[i].getAttribute('src');
  function open(i){ idx=i; lbImg.src=currentSrc(idx); lb.classList.add('open'); lb.setAttribute('aria-hidden','false'); }
  function close(){ lb.classList.remove('open'); lb.setAttribute('aria-hidden','true'); }
  function prev(){ idx=(idx-1+imgs.length)%imgs.length; lbImg.src=currentSrc(idx); }
  function next(){ idx=(idx+1)%imgs.length; lbImg.src=currentSrc(idx); }

  imgs.forEach((im,i)=> im.addEventListener('click',()=>open(i)));
  lbClose.addEventListener('click', close);
  lb.addEventListener('click', (e)=>{ if(e.target===lb) close(); });
  lbPrev.addEventListener('click', (e)=>{ e.stopPropagation(); prev(); });
  lbNext.addEventListener('click', (e)=>{ e.stopPropagation(); next(); });
  window.addEventListener('keydown', (e)=>{ if(!lb.classList.contains('open')) return; if(e.key==='Escape') close(); if(e.key==='ArrowLeft') prev(); if(e.key==='ArrowRight') next(); });
})();
</script>
</body>
</html>


